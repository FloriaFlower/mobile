<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奶油风开发者论坛</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* --- 全局变量和重置 (无变化) --- */
        :root {
            --phone-gradient: linear-gradient(135deg, #fde4ea 0%, #f6f3ef 100%);
            --screen-bg: #fcfaf7;
            --card-bg: #ffffff;
            --modal-bg: #ffffff;
            --accent-pink: #e8a0bf;
            --accent-green: #a5bda4;
            --accent-gold: #e1c195;
            --text-primary: #5c554e;
            --text-secondary: #8f8a82;
            --text-light: #b8b2a9;
            --border-color: #f1ede8;
            --shadow-color: rgba(184, 169, 154, 0.15);
            --avatar-gradient-1: linear-gradient(to top, #fad0c4 0%, #ffd1ff 100%);
            --avatar-gradient-2: linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%);
            --avatar-gradient-3: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Microsoft YaHei", sans-serif; }
        body { display: flex; justify-content: center; align-items: center; min-height: 100vh; background: #3c3c3c; overflow: hidden; }
        /* --- 基础框架样式 (无变化) --- */
        .app-container { width: 414px; height: 800px; background: var(--phone-gradient); border-radius: 40px; padding: 15px; box-shadow: 0 20px 60px rgba(0,0,0,0.4), inset 0 4px 4px #fff, inset 0 -4px 4px #d4d4d4; position: relative; overflow: hidden; }
        .forum-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--screen-bg); border-radius: 30px; display: flex; flex-direction: column; transition: transform 0.5s cubic-bezier(0.65, 0, 0.35, 1); }
        .forum-screen.hidden { transform: translateX(100%); }
        #forum-feed.hidden { transform: translateX(-50%); opacity: 0.5; }
        /* --- 帖子列表页样式 --- */
        /* ✨ [核心修改] 移除了 #forum-feed 的 padding-top，并删除了所有 header 和 tabs 的样式 */
        #post-list-container {
            flex-grow: 1;
            overflow-y: auto;
            padding: 15px; /* 保留容器内边距，使卡片不会紧贴屏幕边缘 */
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        #post-list-container::-webkit-scrollbar { display: none; }
        .post-card { background: var(--card-bg); border-radius: 24px; padding: 20px; cursor: pointer; border: 1px solid var(--border-color); box-shadow: 0 8px 30px var(--shadow-color); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .post-card:hover { transform: translateY(-5px); box-shadow: 0 12px 35px var(--shadow-color); }
        .post-header { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
        .author-avatar { width: 44px; height: 44px; border-radius: 50%; }
        .post-header .author-info { display: flex; flex-direction: column; justify-content: center; }
        .post-header .author-name { font-weight: bold; font-size: 15px; color: var(--text-primary); }
        .post-content h2 { font-size: 18px; margin-bottom: 10px; color: var(--text-primary); line-height: 1.4; }
        .post-content .post-snippet { font-size: 14px; line-height: 1.7; color: var(--text-secondary); }
        .post-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; }
        .id-tag { background-color: var(--border-color); color: var(--text-light); font-size: 12px; padding: 5px 12px; border-radius: 99px; font-weight: 500; }
        .post-actions { display: flex; gap: 25px; color: var(--text-secondary); }
        .action-btn { background: none; border: none; color: inherit; font-size: 14px; cursor: pointer; }
        .action-btn i { margin-right: 6px; }
        .action-btn.liked { color: var(--accent-pink); }
        
        /* --- 帖子详情页及评论区样式 (无变化) --- */
        #post-detail { padding-top: 20px; }
        .detail-header { display: flex; align-items: center; gap: 15px; padding: 15px 25px; }
        .detail-header .back-btn { font-size: 20px; color: var(--text-primary); cursor: pointer; }
        .detail-header h2 { font-size: 18px; font-weight: 600; color: var(--text-primary); }
        .detail-content-wrapper, #comment-list-container { padding: 0 25px; overflow-y: auto; flex-grow: 1; }
        .detail-content-wrapper::-webkit-scrollbar, #comment-list-container::-webkit-scrollbar { display: none; }
        #post-detail-content { padding-top: 10px; }
        .post-full-content { font-size: 15px; line-height: 1.8; color: var(--text-primary); white-space: pre-wrap; padding-bottom: 20px; }
        .comments-section h3 { font-size: 16px; font-weight: 600; padding: 20px 0 15px; border-top: 1px solid var(--border-color); color: var(--text-primary); }
        #comment-list-container { padding: 0 0 25px 0; display: flex; flex-direction: column; gap: 25px; }
        .comment-item { display: flex; gap: 12px; }
        .comment-avatar { flex-shrink: 0; width: 38px; height: 38px; border-radius: 50%; }
        .comment-body { flex-grow: 1; }
        .comment-author { font-weight: bold; font-size: 14px; color: var(--text-primary); margin-bottom: 4px; }
        .comment-content { font-size: 14px; line-height: 1.7; color: var(--text-secondary); margin-bottom: 8px;}
        .comment-footer { display: flex; align-items: center; justify-content: flex-end; gap: 20px; font-size: 12px; color: var(--text-light); }
        .comment-thread { margin-top: 15px; padding-left: 20px; position: relative; display: flex; flex-direction: column; gap: 20px; }
        .comment-thread::before { content: ''; position: absolute; left: 0; top: 5px; width: 2px; height: calc(100% - 10px); background: linear-gradient(to bottom, #d8cff8, #f5d4e1, #fedcbd); border-radius: 2px; }
        .comment-input-bar { padding: 15px 25px; background: var(--card-bg); border-top: 1px solid var(--border-color); display: flex; align-items: center; gap: 10px; margin-top: auto; }
        .comment-input-bar input { flex-grow: 1; border: 1px solid var(--border-color); background: var(--screen-bg); padding: 12px 18px; border-radius: 99px; font-size: 14px; color: var(--text-primary); }
        .comment-input-bar input:focus { outline: none; border-color: var(--accent-pink); }
    </style>
</head>
<body>
    <div class="app-container">
        
        <!-- ✨ [核心修改] 首页仅保留帖子列表容器 -->
        <div id="forum-feed" class="forum-screen">
            <div id="post-list-container"></div>
        </div>
        <div id="post-detail" class="forum-screen hidden">
            <header class="detail-header">
                <i class="fas fa-arrow-left back-btn"></i>
                <h2>帖子详情</h2>
            </header>
            <div class="detail-content-wrapper">
                <div id="post-detail-content"></div>
                <div class="comments-section"><h3>精彩评论</h3></div>
                <div id="comment-list-container"></div>
            </div>
            <div class="comment-input-bar">
                <input type="text" placeholder="留下你的可爱想法吧~">
                <button class="action-btn" style="color: var(--accent-pink); font-size: 16px;"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
    <script>
    // JavaScript部分无需任何修改，与上一版本完全兼容
    document.addEventListener('DOMContentLoaded', () => {
        const forumFeed = document.getElementById('forum-feed');
        const postDetail = document.getElementById('post-detail');
        const postListContainer = document.getElementById('post-list-container');
        const postDetailContent = document.getElementById('post-detail-content');
        const commentListContainer = document.getElementById('comment-list-container');
        const backBtn = postDetail.querySelector('.back-btn');
        const postsData = [
            {
                id: 1, author: '极客阿信', avatar: 'var(--avatar-gradient-1)',
                title: 'Vue 3 的 Composition API 真的比 Options API 好用吗？',
                content: '最近在犹豫新项目是否要全面拥抱 Composition API。它的优势很明显，比如逻辑复用和组织，但在小型项目中是否会显得过于复杂？想听听大家的实战经验。',
                 likes: 128, commentsCount: 32,
                comments: [
                    { id: 101, author: '前端小仙女', avatar: 'var(--avatar-gradient-3)', content: '当然啦！用起来心情都变好了，逻辑像是在编织一件美丽的毛衣，而不是一团乱麻~', likes: 45, replies: [
                        { id: 103, author: '极客阿信', avatar: 'var(--avatar-gradient-1)', content: '这个比喻太可爱了！我决定试试看！', likes: 12, replies: [] }
                    ] },
                    { id: 102, author: '奶油泡芙', avatar: 'var(--avatar-gradient-2)', content: '同意楼上，而且写出的代码超优雅的，姐妹冲！', likes: 22, replies: [
                         { id: 104, author: '前端小仙女', avatar: 'var(--avatar-gradient-3)', content: '对呀对呀！一起变优雅~ ✨', likes: 8, replies: [] }
                    ]}
                ]
            },
            {
                id: 2, author: '设计诗', avatar: 'var(--avatar-gradient-2)',
                title: '分享一下我的手账素材和宝藏配色网站',
                content: '姐妹们！灵感枯竭的时候就来看看这些吧！整理了我私藏的网站，从手账贴纸到神仙配色，保证让你少女心爆棚！\n1. "Color Hunt" - 每天都有新配色，超美\n2. "Freepik" - 可爱的小插画和贴纸\n3. ...',
                likes: 256, commentsCount: 58,
                comments: [
                    { id: 201, author: '周末漫游指南', avatar: 'var(--avatar-gradient-2)', content: '太棒了！Color Hunt 我也在用，简直是配色废的救星！', likes: 15, replies: [] }
                ]
            },
            {
                id: 3, author: '桌面美学家', avatar: 'var(--avatar-gradient-3)',
                title: '终于把我的家庭办公区布置好啦！晒图+清单分享',
                content: '最近沉迷于打造一个舒适又高效的桌面环境，从人体工学椅到奶油色的机械键盘，每一样都是精挑细选的！附上我的桌面好物清单，希望给同样在家办公的姐妹们一些灵感~\n- 显示器: Dell U2723QX\n- 键盘: Keychron K4 奶白色\n- 桌面小物: Grovemade 桌面垫、各种绿植',
                likes: 310, commentsCount: 72,
                comments: [
                    { id: 301, author: '奶油泡芙', avatar: 'var(--avatar-gradient-2)', content: '天哪这个桌面也太治愈了！键盘种草了！', likes: 29, replies: [
                        { id: 303, author: '桌面美学家', avatar: 'var(--avatar-gradient-3)', content: '谢谢！那个键盘手感真的超棒，推荐！', likes: 10, replies: [] }
                    ] },
                    { id: 302, author: '极客阿信', avatar: 'var(--avatar-gradient-1)', content: '同款显示器，对程序员和设计师都非常友好。', likes: 18, replies: [] }
                ]
            },
            {
                id: 4, author: 'CSS小萌新', avatar: 'var(--avatar-gradient-1)',
                title: '求助！如何用CSS做一个优雅的、不僵硬的淡入淡出效果？',
                content: '我试了用 transition: opacity，但感觉效果有点生硬。看到很多网站的元素出现和消失都特别丝滑，是有什么特别的技巧吗？比如用 animation 配合 cubic-bezier？有点搞不懂...求大神指点~',
                likes: 95, commentsCount: 14,
                comments: [
                    { id: 401, author: '前端小仙女', avatar: 'var(--avatar-gradient-3)', content: '可以试试 `transform: translateY(10px)` 配合 `opacity` 一起过渡，这样会有一个轻微上浮的效果，感觉会更自然！', likes: 33, replies: [
                         { id: 402, author: 'CSS小萌新', avatar: 'var(--avatar-gradient-1)', content: '哇！学到了！我马上去试试，太感谢啦！', likes: 15, replies: [] }
                    ]}
                ]
            },
            {
                id: 5, author: '周末漫游指南', avatar: 'var(--avatar-gradient-2)',
                title: '最近有什么适合放松的宝藏播客推荐吗？',
                content: '通勤和做家务的时候喜欢听播客，想求一些氛围轻松、能学到东西或者纯粹治愈的播客！我先来抛砖引玉：我最近在听《无业游民》和《日谈公园》。',
                likes: 288, commentsCount: 99,
                comments: [
                    { id: 501, author: '前端小仙女', avatar: 'var(--avatar-gradient-3)', content: '强推《忽左忽右》！知识量超大又有趣！', likes: 41, replies: [
                         { id: 502, author: '周末漫游指南', avatar: 'var(--avatar-gradient-2)', content: '这个听过！加到列表里了！', likes: 9, replies: [] }
                    ]}
                ]
            }
        ];
        function renderPostList() {
            postListContainer.innerHTML = '';
            postsData.forEach(post => {
                const postCard = document.createElement('div');
                postCard.className = 'post-card';
                postCard.dataset.postId = post.id;
                postCard.innerHTML = `
                    <div class="post-header">
                        <div class="author-avatar" style="background: ${post.avatar};"></div>
                        <div class="author-info">
                            <span class="author-name">${post.author}</span>
                        </div>
                    </div>
                    <div class="post-content">
                        <h2>${post.title}</h2>
                        <p class="post-snippet">${post.content.substring(0, 100)}...</p>
                    </div>
                    <div class="post-footer">
                        <span class="id-tag">ID: t${post.id}</span>
                        <div class="post-actions">
                            <button class="action-btn like-btn"><i class="far fa-heart"></i> ${post.likes}</button>
                            <button class="action-btn"><i class="far fa-comment-dots"></i> ${post.commentsCount}</button>
                        </div>
                    </div>
                `;
                postListContainer.appendChild(postCard);
            });
        }
        
        function renderPostDetail(postId) {
            const post = postsData.find(p => p.id == postId);
            if (!post) return;
            postDetailContent.innerHTML = `
                <div class="post-header" style="margin-bottom: 20px;">
                    <div class="author-avatar" style="background: ${post.avatar};"></div>
                    <div class="author-info">
                        <span class="author-name">${post.author}</span>
                    </div>
                </div>
                <h2>${post.title}</h2>
                <div style="margin-top: 10px; margin-bottom: 20px;">
                    <span class="id-tag">ID: t${post.id}</span>
                </div>
                <p class="post-full-content">${post.content}</p>
                <div class="post-actions" style="padding-bottom: 20px;">
                     <button class="action-btn like-btn"><i class="far fa-heart"></i> ${post.likes}</button>
                     <button class="action-btn"><i class="far fa-comment-dots"></i> ${post.commentsCount}</button>
                </div>
            `;
            
            commentListContainer.innerHTML = '';
            if (post.comments.length > 0) {
                renderComments(post.comments, commentListContainer);
            } else {
                commentListContainer.innerHTML = '<p style="color: var(--text-light); text-align: center; padding: 20px 0;">还没有评论，期待你的第一个足迹~</p>';
            }
        }
        function renderComments(comments, container) {
            comments.forEach(comment => {
                const commentWrapper = document.createElement('div');
                commentWrapper.innerHTML = `
                    <div class="comment-item">
                        <div class="comment-avatar" style="background: ${comment.avatar};"></div>
                        <div class="comment-body">
                            <span class="comment-author">${comment.author}</span>
                            <p class="comment-content">${comment.content}</p>
                            <div class="comment-footer">
                                <button class="action-btn like-btn"><i class="far fa-heart"></i> ${comment.likes}</button>
                                <button class="action-btn"><i class="fas fa-reply"></i> 回复</button>
                            </div>
                        </div>
                    </div>
                `;
                if (comment.replies && comment.replies.length > 0) {
                    const threadContainer = document.createElement('div');
                    threadContainer.className = 'comment-thread';
                    renderComments(comment.replies, threadContainer);
                    commentWrapper.appendChild(threadContainer);
                }
                container.appendChild(commentWrapper);
            });
        }
        postListContainer.addEventListener('click', (e) => {
            const card = e.target.closest('.post-card');
            if (card && !e.target.closest('.action-btn')) {
                const postId = card.dataset.postId;
                renderPostDetail(postId);
                forumFeed.classList.add('hidden');
                postDetail.classList.remove('hidden');
            }
        });
        backBtn.addEventListener('click', () => {
            postDetail.classList.add('hidden');
            forumFeed.classList.remove('hidden');
        });
        document.body.addEventListener('click', e => {
            const likeBtn = e.target.closest('.like-btn');
            if(likeBtn) {
                e.stopPropagation();
                likeBtn.classList.toggle('liked');
                const icon = likeBtn.querySelector('i');
                icon.classList.toggle('far');
                icon.classList.toggle('fas');
                const textNode = likeBtn.childNodes[1];
                let count = parseInt(textNode.textContent.trim());
                textNode.textContent = ` ${likeBtn.classList.contains('liked') ? count + 1 : count - 1}`;
            }
        });
        
        renderPostList();
    });
    </script>
</body>
</html>